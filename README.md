# Magic-change-Qwen3-TTS Studio (便携版)

[English Version](./README_EN.md)

> **声明**：本项目基于 [QwenLM/Qwen3-TTS](https://github.com/QwenLM/Qwen3-TTS?tab=readme-ov-file#voice-design) 修改而来，旨在提供一个完全离线、免配置、即开即用的便携式语音创作中心。

Qwen3-TTS 是由阿里巴巴 Qwen 团队开发的开源语音合成模型系列。本项目在其基础上，集成了完整的 Python 便携环境，并优化了 Web UI 交互体验，支持 10 种以上语言的高质量语音生成。

---

## 🌟 核心功能特性

本项目整合了 Qwen3-TTS 的三大核心能力：

1.  **🎭 预设音色 (CustomVoice)**：内置 9 种精品预设音色（如薇薇安、傅叔等），支持通过自然语言指令（如“温柔地”、“开心地”）精准控制情感和语调。
2.  **🎨 语音设计 (VoiceDesign)**：支持“所想即所听”。只需输入一段描述（如“深沉的中年男声，语气沉稳”），模型即可动态设计出符合要求的全新音色。
3.  **👥 语音克隆 (VoiceClone)**：仅需 3-5 秒的参考音频，即可实现高保真的声音克隆。支持 ICL（上下文学习）模式，复刻说话人的细微韵律。
4.  **⚡ 极速推理**：支持 Flash Attention 2 加速，首包响应延迟低至 100ms 级别。
5.  **🌍 多语言支持**：全面覆盖中、英、日、韩、德、法、俄、葡、西、意等 10 种主流语言。

---

## 📦 安装与配置

本项目为**便携版**，无需安装系统全局 Python 环境或配置复杂的 CUDA 环境。

### 1. 硬件要求
*   **GPU**: NVIDIA 显卡 (建议 RTX 30 系列及以上以获得最佳性能)。
*   **显存**: 建议 8GB 及以上。
*   **驱动**: 安装了支持 CUDA 12.1 或更高版本的 NVIDIA 驱动。

### 2. 获取项目

您可以直接下载压缩包解压，或通过 Git 克隆本项目：

```bash
git clone https://github.com/luokexiaoguo/Magic-change-Qwen3-TTS.git
cd Magic-change-Qwen3-TTS
```

1.  确保文件夹路径中不包含中文或空格（建议放在磁盘根目录，如 `E:\Magic-change-Qwen3-TTS`）。

### 3. 下载模型
双击运行根目录下的 **`下载模型.bat`**。
*   这是一个交互式工具，您可以选择下载特定的模型（如仅下载“预设音色”）或下载“全部模型”（约 10GB）。
*   模型将自动保存到 `models/` 文件夹中。

---

## 🚀 快速启动

1.  **启动服务**：双击运行 **`启动.bat`**。
2.  **访问界面**：脚本会自动打开您的默认浏览器并跳转至 `http://localhost:8001`。
3.  **开始创作**：在网页中选择功能选项卡，输入文本并点击“生成”即可。

---

## 🛠️ 项目结构

```text
Magic-change-Qwen3-TTS/
├── python312/          # 内置便携式 Python 环境 (已集成所有依赖)
├── models/             # 模型权重存放目录 (运行下载脚本后生成)
├── qwen_tts/           # 核心代码库
├── sox/                # 内置音频处理工具
├── outputs/            # 生成的音频文件自动保存于此
├── 启动.bat            # 一键启动脚本
├── 下载模型.bat        # 模型管理工具
└── start.py            # 启动器逻辑
```

---

## 📖 使用示例

### 预设音色示例
*   **文本**：今天天气真好，我们一起去公园散步吧。
*   **音色**：薇薇安 (vivian)
*   **情感指令**：充满活力地，带一点笑意。

### 语音设计示例
*   **音色描述**：一个成熟稳重的女性声音，带有磁性，说话语速稍慢。

---

## 📑 API 接口说明

本项目主要通过 Web UI 提供服务。如需集成到其他系统，可以直接调用 Gradio 提供的 `/api/predict` 接口。启动服务后，点击页面最下方的 "View API" 链接即可查看详细的 API 文档和示例代码。

---

## 🤝 贡献指南

1.  欢迎通过 Issue 反馈运行中的 Bug。
2.  如需增加新功能，请 Fork 原仓库并提交 Pull Request。
3.  音色描述建议参考 [语音百科](file:///e:/Qwen3-TTS/qwen_tts/cli/demo.py) 中的说明进行优化。

---

## 📜 许可证

*   本项目代码部分遵循 [Apache-2.0 License](LICENSE)。
*   模型权重遵循阿里巴巴 Qwen 团队的相关模型许可协议。

---

## 📅 版本历史

*   **v1.0.0 (2026-02-26)**
    *   初始版本发布。
    *   集成便携环境与自动下载器。
    *   新增音色详细百科介绍功能。
    *   修正端口冲突问题，默认使用 8001 端口。

---

## 📧 联系方式

如有问题或建议，请联系：[luokexiaoguo@foxmail.com]
原始模型相关问题请访问官方仓库：[QwenLM/Qwen3-TTS](https://github.com/QwenLM/Qwen3-TTS)
